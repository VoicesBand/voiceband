<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Voices - STL's Premier Classic Band</title>
  <link rel="stylesheet" href="style.css" />
  <script>
    const staticData = {
      logoURL: "images/logoGTO.jpg",
      aboutText: `Formerly known as GTO (Good Time Oldies), Voices is a seasoned 4-piece band
      performing around the STL Metro area. Blending live instruments and synthetic backing tracks,
      they cover classic hits from the 60s through the 2000s ‚Äî full of energy, sound, and nostalgia.

      Left (Pat Downs), middle Left (Billy Presnell), Middle right (Dennis Gillam), Right (Jesse Miller).`,
      showsList: `KC HALL DeSoto, MO DEC. 31st`,
      videoUrls: [
        "https://www.youtube.com/embed/ycCKV5uYKSE",
        "https://www.youtube.com/embed/O-PhaZvzlYw",
        "https://www.youtube.com/embed/-oo8J8FeD-I",
        "https://www.youtube.com/embed/bl5HUp8BnlE"
      ],
      socials: [
        { platform: "Facebook", url: "https://www.facebook.com/voicessing/" },
        { platform: "YouTube", url: "https://youtube.com/@VoicesSTL" },
        { platform: "TikTok", url: "https://www.tiktok.com/@voicesbandofficial" }
      ]
    };

    const socialIcons = {
      facebook: "https://cdn-icons-png.flaticon.com/512/124/124010.png",
      instagram: "https://cdn-icons-png.flaticon.com/512/2111/2111463.png",
      twitter: "https://cdn-icons-png.flaticon.com/512/124/124021.png",
      youtube: "https://cdn-icons-png.flaticon.com/512/1384/1384060.png",
      tiktok: "https://cdn-icons-png.flaticon.com/512/3046/3046120.png"
    };

    function updatePage() {
      document.getElementById('logo-img').src = staticData.logoURL;
      document.getElementById('about-text').textContent = staticData.aboutText;
      document.getElementById('upcoming-shows').innerHTML = staticData.showsList.replace(/\n/g, '<br>');
      const videoGrid = document.getElementById('video-grid');
      videoGrid.innerHTML = '';
      staticData.videoUrls.forEach(url => {
        const iframe = document.createElement('iframe');
        iframe.src = url;
        iframe.allowFullscreen = true;
        iframe.setAttribute('frameborder', '0');
        videoGrid.appendChild(iframe);
      });
      const socials = document.getElementById('social-links');
      socials.innerHTML = '';
      staticData.socials.forEach(({ platform, url }) => {
        const div = document.createElement('div');
        div.className = 'social-link';
        div.innerHTML = `
          <img src="${socialIcons[platform.toLowerCase()] || ''}" alt="${platform} logo">
          <a href="${url}" target="_blank">${url}</a>
        `;
        socials.appendChild(div);
      });
    }

    function scrollToSection(sectionId) {
      const section = document.getElementById(sectionId.toLowerCase());
      if (section) section.scrollIntoView({ behavior: 'smooth' });
    }

    const carouselImages = [
      'images/1.JPG',
      'images/2.JPG',
      'images/3.JPG',
      'images/4.JPG',
      'images/5.JPG'
    ];
    let currentImgIndex = 0;
    function cycleCarousel() {
      const img = document.getElementById('carousel-img');
      currentImgIndex = (currentImgIndex + 1) % carouselImages.length;
      img.src = carouselImages[currentImgIndex];
    }

    window.onload = () => {
      updatePage();
      setInterval(cycleCarousel, 4000);

      const form = document.getElementById("booking-form");
      const scriptURL = "https://script.google.com/macros/s/AKfycby8uzyf8wH0ZteEoboa7p2a8xr7nwKD1ox2rCLEuJSNs_ODD-zvmolOL7z4CV2F3ap5uQ/exec";

      form.addEventListener("submit", (e) => {
        e.preventDefault();
        const formData = new FormData(form);

        fetch(scriptURL, {
          method: "POST",
          body: new URLSearchParams(formData),
        })
        .then(res => res.json())
        .then(data => {
          if (data.result === "success") {
            alert("‚úÖ Booking submitted successfully!");
            form.reset();
          } else {
            alert("‚ùå Error: " + data.message);
          }
        })
        .catch(error => {
          console.error("Error sending booking:", error);
          alert("‚ùå Network or system error occurred.");
        });
      });

      const newsletterBtn = document.getElementById("newsletter-btn");
      newsletterBtn.addEventListener("click", () => {
        const email = prompt("Enter your email to sign up for the newsletter:");
        if (!email || !email.includes("@")) return alert("Invalid email.");

        fetch("https://script.google.com/macros/s/AKfycby8uzyf8wH0ZteEoboa7p2a8xr7nwKD1ox2rCLEuJSNs_ODD-zvmolOL7z4CV2F3ap5uQ/exec", {
          method: "POST",
          body: new URLSearchParams({ email, newsletter: "true" })
        })
        .then(res => res.json())
        .then(data => {
          if (data.result === "success") {
            alert("‚úÖ Thanks for signing up! A confirmation email has been sent.");
          } else {
            alert("‚ùå Error: " + data.message);
          }
        })
        .catch(err => {
          console.error(err);
          alert("‚ùå Failed to sign up.");
        });
      });
    };
  </script>
</head>
<body>

  <header class="site-header">
    <div class="logo">
      <img id="logo-img" src="images/logoGTO.jpg" alt="Voices Logo" />
    </div>
    <nav class="nav-scroll">
      <div class="nav-bar">
        <button onclick="scrollToSection('about')">about</button>
        <button onclick="scrollToSection('shows')">shows</button>
        <button onclick="scrollToSection('gallery')">gallery</button>
        <button onclick="scrollToSection('booking')">booking</button>
        <button onclick="scrollToSection('socials-section')">socials</button>
        <a href="admin.html" class="admin-link">Admin</a>
      </div>
    </nav>
  </header>

  <header class="hero">
    <img src="images/banner.jpg" alt="Voices Band Banner" />
  </header>

  <section id="about">
    <h2>üé§ Voices</h2>
    <p id="about-text"></p>
  </section>

  <div id="carousel">
    <img id="carousel-img" src="images/1.JPG" alt="Band Carousel" />
  </div>

  <section id="shows">
    <h2>Upcoming Shows</h2>
    <div id="upcoming-shows">Default upcoming shows info here...</div>
  </section>

  <section id="gallery">
    <h2>Media Gallery</h2>
    <div class="video-grid" id="video-grid"></div>
    <a href="https://www.youtube.com/@VoicesSTL" target="_blank" class="btn">More Videos</a>
  </section>

  <section id="booking">
    <h2>Book Voices</h2>
    <form id="booking-form">
      <input type="text" name="name" placeholder="Your Name" required />
      <input type="email" name="email" placeholder="Your Email" required />
      <input type="text" name="date" placeholder="Requested Date" />
      <input type="text" name="location" placeholder="Event Location" />
      <textarea name="message" placeholder="Additional Info or Questions"></textarea>
      <button type="submit">Submit Booking</button>
    </form>
  </section>

  <section id="newsletter">
    <h2>üìß Newsletter</h2>
    <button id="newsletter-btn">Sign Up for Updates</button>
  </section>

  <section id="socials-section" class="socials">
    <h2>Socials</h2>
    <div id="social-links"></div>
  </section>

</body>
</html>
